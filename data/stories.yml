version: "3.1"

stories:

#- story: movie_recommendation_simple
#  steps:
#    - intent: greet
#    - action: utter_greet
#    - intent: ask_movie_recommendation
#    - action: utter_intention
#    - action: utter_link
#    - intent: thank
#    - action: utter_goodbye

#- story: movie_recommendation_simple2
#  steps:
#    - intent: greet
#    - action: utter_greet
#    - intent: ask_movie_recommendation
#    - action: utter_intention
#    - action: utter_link
#    - intent: ask_different_link
#    - action: utter_second_link
#    - intent: thank
#    - action: utter_goodbye


- story: create_user_profile
  steps: 
  - intent: greet
  - action: utter_greet
  - intent: request_sign_up
  - action: utter_signup
  - action: sign_up_form
  - active_loop: sign_up_form
  - slot_was_set:
    - requested_slot: name
  - slot_was_set:
    - requested_slot: last_name
  - slot_was_set:
    - requested_slot: email
  - slot_was_set:
    - requested_slot: age
  - slot_was_set:
    - requested_slot: favourite_genre
  - active_loop: null
  - action: action_create_user_profile  # Trigger the action to update the user's profile
  - action: utter_aknowledge_info
  - action: utter_continue
  - intent: deny
  - action: utter_goodbye
  - intent: goodbye
  - action: action_restart

- story: identify_user
  steps:
  - intent: greet
  - action: utter_greet
  - intent: request_identify
  - action: utter_identification
  - action: identify_user_form
  - active_loop: identify_user_form
  - slot_was_set:
    - requested_slot: id_name
  - slot_was_set:
    - requested_slot: id_last_name
  - active_loop: null
  - action: user_identification
  - action: utter_identified_user
  - intent: thank
  - action: utter_goodbye
  - intent: goodbye
  - action: action_restart


- story: personalized_recommendation
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_movie_recommendation
  - action: utter_movie_recommendation_path
  - action: utter_check_profile
  - action: identify_user_form
  - active_loop: identify_user_form
  - slot_was_set:
    - requested_slot: name
  - slot_was_set:
    - requested_slot: last_name
  - active_loop: null
  - action: user_identification
  - action: utter_identified_user
  - action: utter_check_genre
  - intent: affirm
  - action: action_personalized_recommendation
  - action: utter_check
  - or:
    - intent: affirm
    - intent: thank
  - action: utter_goodbye
  - intent: goodbye
  - action: action_restart

- story: personalized_different_genre
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_movie_recommendation
  - action: utter_movie_recommendation_path
  - action: utter_check_profile
  - action: identify_user_form
  - active_loop: identify_user_form
  - slot_was_set:
    - requested_slot: name
  - slot_was_set:
    - requested_slot: last_name
  - active_loop: null
  - action: user_identification
  - action: utter_identified_user
  - action: utter_check_genre
  - intent: deny
  - action: utter_movie_genre
  - intent: movie_genre
    entities:
    - movie_genre  # Replace with the desired movie genre
  - slot_was_set:
    - requested_slot: movie_genre
  - action: action_confirm_movie_genre
  - action: action_personalized_recommendation_genre
  - action: utter_check
  - or:
    - intent: affirm
    - intent: thank
  - action: utter_goodbye
  - intent: goodbye
  - action: action_restart


# - story: generate_movie_recommendation
#   steps:
#   - intent: greet
#   - action: utter_greet
#   - intent: ask_movie_recommendation
#   - action: utter_movie_recommendation_path
#   - action: utter_movie_genre
#   - intent: movie_genre
#     entities:
#     - movie_genre  # Replace with the desired movie genre
#   - slot_was_set:
#     - requested_slot: movie_genre
#   - action: action_confirm_movie_genre
#   - action: action_generate_text
#   #- action: utter_movie_recommendation
#   - intent: thank
#   - action: utter_goodbye
#   - intent: goodbye
#   - action: action_restart


# - story: update_name
#   steps:
#   - intent: greet
#   - action: utter_greet
#   - intent: request_update_profile
#   - action: utter_update_profile
#   - action: utter_check_profile
#   - action: identify_user_form
#   - active_loop: identify_user_form
#   - slot_was_set:
#     - requested_slot: name
#   - slot_was_set:
#     - requested_slot: last_name
#   - active_loop: null
#   - action: user_identification
#   - action: utter_identified_user
#   - action: utter_ask_field_to_update  # Ask which field to update
#   - intent: update_name  # User wants to update their name
#   - action: utter_ask_new_name  # Ask the user for their new name
#   - action: action_update_user_profile  # Trigger the action to update the user's profile
#   - slot_was_set:
#     - requested_slot: name  #i may need to change this too
#   - action: utter_confirm_update_name  # Confirm the name update
#   - action: utter_continue  # Ask if the user wants to update anything else
#   - intent: deny  # User doesn't want to update anything else
#   - action: utter_goodbye  # Say goodbye
#   - intent: goodbye
#   - action: action_restart  # Restart the conversation



#- story: actual_movie_recommendation
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre
#  - slot_was_set:
#    - requested_slot: movie_genre
#  - action: action_confirm_movie_genre
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - or:
#    - intent: affirm
#    - intent: thank
#  - action: utter_goodbye
#  - intent: goodbye
#  - action: action_restart


#- story: deny_movie_recommendation
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre
#  - slot_was_set:
#    - requested_slot: movie_genre
#  - action: action_confirm_movie_genre
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - intent: deny
#  - action: utter_second_recommendation
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - or:
#    - intent: affirm
#    - intent: thank
#  - action: utter_continue
#  - intent: deny
#  - action: utter_goodbye
#  - intent: goodbye
#  - action: action_restart


#- story: create_user_movie_recommendation
#  steps: 
#  - intent: greet
#  - action: utter_greet
#  - intent: request_sign_up
#  - action: utter_signup
#  - action: sign_up_form
#  - active_loop: sign_up_form
#  - slot_was_set:
#    - requested_slot: name
#  - slot_was_set:
#    - requested_slot: email
#  - slot_was_set:
#    - requested_slot: age
#  - slot_was_set: 
#    - requested_slot: favourite_genre
#  - active_loop: null
#  - action: utter_aknowledge_info
#  - action: utter_continue
#  - intent: affirm
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre
#  - slot_was_set:
#    - requested_slot: movie_genre
#  - action: action_confirm_movie_genre
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - or:
#    - intent: affirm
#    - intent: thank
#  - action: utter_continue
#  - intent: deny
#  - action: utter_goodbye
#  - intent: goodbye
#  - action: action_restart


#- story: continue_movie_recommendation
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre
#  - slot_was_set:
#    - requested_slot: movie_genre
#  - action: action_confirm_movie_genre
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - or:
#    - intent: affirm
#    - intent: thank
#  - action: action_restart


#- story: rate_a_movie
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: request_rate_movie
#  - action: utter_rate_form
#  - action: utter_movie_rate
#  - intent: movie_rate
#    entities:
#      - movie_rate
#  - action: utter_rate_value
#  - intent: rate_movie
#    entities:
#    - rate
#  - action: utter_rate_recognition
#  - intent: affirm
#  - action: utter_goodbye
#  - action: action_restart


#- story: interactive_story_1
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre: action
#  - slot_was_set:
#    - movie_genre: action
#  - action: action_confirm_movie_genre
#  - intent: affirm
#  - action: utter_intention
#  - action: utter_link
#  - intent: thank
#  - action: utter_goodbye

#- story: interactive_story_2
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre: Christmas
#  - slot_was_set:
#    - movie_genre: Christmas
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - intent: affirm
#  - action: utter_goodbye

#- story: interactive_story_3 
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre: horror
# - slot_was_set:
#    - movie_genre: horror
#  - action: action_confirm_movie_genre
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - intent: affirm
#  - action: utter_goodbye

#- story: interactive_story_4
#  steps:
#  - intent: greet
#  - action: utter_greet
#  - intent: ask_movie_recommendation
#  - action: utter_movie_recommendation_path
#  - action: utter_movie_genre
#  - intent: movie_genre
#    entities:
#    - movie_genre: romance
#  - slot_was_set:
#    - movie_genre: romance
#  - action: action_confirm_movie_genre
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - intent: deny
#  - action: action_make_movie_recommendation
#  - action: utter_check
#  - intent: affirm
#  - action: utter_goodbye
